import{ao as Z,T as z,a7 as G,ap as ee,e as te,aq as M,ar as x,z as c,o as d,a5 as se,ah as T,n as W,p as ie,a3 as F,H as ne,w as g,as as A,L as C,at as N,au as E,av as P,aw as re,a as H,c as $,ax as ae,y as O,D as w,an as he,C as oe,ay as V,az as le,E as fe,aA as ue,aB as de,ad as S,aC as _e,aD as ce,i as pe,G as j,aE as ge,aF as J,F as b,A as K,aG as I,aH as L,aI as ve,af as ye,a8 as me,aJ as Ee,X as be,r as we,a4 as Te,aK as Re,_ as Ae}from"./CiiQAQc5.js";function De(t){let e=0,s=G(0),n;return()=>{Z()&&(z(s),ee(()=>(e===0&&(n=te(()=>t(()=>M(s)))),e+=1,()=>{x(()=>{e-=1,e===0&&(n?.(),n=void 0,M(s))})})))}}var Ne=fe|ue|de;function Se(t,e,s){new Fe(t,e,s)}class Fe{parent;#i=!1;#t;#p=d?c:null;#n;#f;#r;#s=null;#e=null;#a=null;#h=null;#u=0;#o=0;#d=!1;#l=null;#v=()=>{this.#l&&se(this.#l,this.#u)};#y=De(()=>(this.#l=G(this.#u),()=>{this.#l=null}));constructor(e,s,n){this.#t=e,this.#n=s,this.#f=n,this.parent=T.b,this.#i=!!this.#n.pending,this.#r=W(()=>{if(T.b=this,d){const r=this.#p;ie(),r.nodeType===F&&r.data===ne?this.#E():this.#m()}else{try{this.#s=g(()=>n(this.#t))}catch(r){this.error(r)}this.#o>0?this.#c():this.#i=!1}},Ne),d&&(this.#t=c)}#m(){try{this.#s=g(()=>this.#f(this.#t))}catch(e){this.error(e)}this.#i=!1}#E(){const e=this.#n.pending;e&&(this.#e=g(()=>e(this.#t)),A.enqueue(()=>{this.#s=this.#_(()=>(A.ensure(),g(()=>this.#f(this.#t)))),this.#o>0?this.#c():(C(this.#e,()=>{this.#e=null}),this.#i=!1)}))}is_pending(){return this.#i||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#_(e){var s=T,n=H,r=$;N(this.#r),E(this.#r),P(this.#r.ctx);try{return e()}catch(i){return re(i),null}finally{N(s),E(n),P(r)}}#c(){const e=this.#n.pending;this.#s!==null&&(this.#h=document.createDocumentFragment(),ke(this.#s,this.#h)),this.#e===null&&(this.#e=g(()=>e(this.#t)))}#g(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(e);return}this.#o+=e,this.#o===0&&(this.#i=!1,this.#e&&C(this.#e,()=>{this.#e=null}),this.#h&&(this.#t.before(this.#h),this.#h=null),x(()=>{A.ensure().flush()}))}update_pending_count(e){this.#g(e),this.#u+=e,ae.add(this.#v)}get_effect_pending(){return this.#y(),z(this.#l)}error(e){var s=this.#n.onerror;let n=this.#n.failed;if(this.#d||!s&&!n)throw e;this.#s&&(O(this.#s),this.#s=null),this.#e&&(O(this.#e),this.#e=null),this.#a&&(O(this.#a),this.#a=null),d&&(w(this.#p),he(),w(oe()));var r=!1,i=!1;const o=()=>{if(r){_e();return}r=!0,i&&le(),A.ensure(),this.#u=0,this.#a!==null&&C(this.#a,()=>{this.#a=null}),this.#i=this.has_pending_snippet(),this.#s=this.#_(()=>(this.#d=!1,g(()=>this.#f(this.#t)))),this.#o>0?this.#c():this.#i=!1};var u=H;try{E(null),i=!0,s?.(e,o),i=!1}catch(f){V(f,this.#r&&this.#r.parent)}finally{E(u)}n&&x(()=>{this.#a=this.#_(()=>{this.#d=!0;try{return g(()=>{n(this.#t,()=>e,()=>o)})}catch(f){return V(f,this.#r.parent),null}finally{this.#d=!1}})})}}function ke(t,e){for(var s=t.nodes_start,n=t.nodes_end;s!==null;){var r=s===n?null:S(s);e.append(s),s=r}}const Ce=["touchstart","touchmove"];function Oe(t){return Ce.includes(t)}const xe=new Set,Y=new Set;let q=null;function D(t){var e=this,s=e.ownerDocument,n=t.type,r=t.composedPath?.()||[],i=r[0]||t.target;q=t;var o=0,u=q===t&&t.__root;if(u){var f=r.indexOf(u);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var v=r.indexOf(e);if(v===-1)return;f<=v&&(o=f)}if(i=r[o]||t.target,i!==e){ce(t,"currentTarget",{configurable:!0,get(){return i||s}});var k=H,_=T;E(null),N(null);try{for(var a,h=[];i!==null;){var y=i.assignedSlot||i.parentNode||i.host||null;try{var p=i["__"+n];if(p!=null&&(!i.disabled||t.target===i))if(pe(p)){var[X,...Q]=p;X.apply(i,[t,...Q])}else p.call(i,t)}catch(R){a?h.push(R):a=R}if(t.cancelBubble||y===e||y===null)break;i=y}if(a){for(let R of h)queueMicrotask(()=>{throw R});throw a}}finally{t.__root=e,delete t.currentTarget,E(k),N(_)}}}let l;function He(){l=void 0}function Be(t){let e=null,s=d;var n;if(d){for(e=c,l===void 0&&(l=K(document.head));l!==null&&(l.nodeType!==F||l.data!==J);)l=S(l);l===null?b(!1):l=w(S(l))}d||(n=document.head.appendChild(j()));try{W(()=>t(n),ge)}finally{s&&(b(!0),l=c,w(e))}}function Me(t,e){var s=e==null?"":typeof e=="object"?e+"":e;s!==(t.__t??=t.nodeValue)&&(t.__t=s,t.nodeValue=s+"")}function Ie(t,e){return U(t,e)}function Pe(t,e){I(),e.intro=e.intro??!1;const s=e.target,n=d,r=c;try{for(var i=K(s);i&&(i.nodeType!==F||i.data!==J);)i=S(i);if(!i)throw L;b(!0),w(i);const o=U(t,{...e,anchor:i});return b(!1),o}catch(o){if(o instanceof Error&&o.message.split(`
`).some(u=>u.startsWith("https://svelte.dev/e/")))throw o;return o!==L&&console.warn("Failed to hydrate: ",o),e.recover===!1&&ve(),I(),ye(s),b(!1),Ie(t,e)}finally{b(n),w(r),He()}}const m=new Map;function U(t,{target:e,anchor:s,props:n={},events:r,context:i,intro:o=!0}){I();var u=new Set,f=_=>{for(var a=0;a<_.length;a++){var h=_[a];if(!u.has(h)){u.add(h);var y=Oe(h);e.addEventListener(h,D,{passive:y});var p=m.get(h);p===void 0?(document.addEventListener(h,D,{passive:y}),m.set(h,1)):m.set(h,p+1)}}};f(me(xe)),Y.add(f);var v=void 0,k=Ee(()=>{var _=s??e.appendChild(j());return Se(_,{pending:()=>{}},a=>{if(i){be({});var h=$;h.c=i}if(r&&(n.$$events=r),d&&we(a,null),v=t(a,n)||{},d&&(T.nodes_end=c,c===null||c.nodeType!==F||c.data!==Te))throw Re(),L;i&&Ae()}),()=>{for(var a of u){e.removeEventListener(a,D);var h=m.get(a);--h===0?(document.removeEventListener(a,D),m.delete(a)):m.set(a,h)}Y.delete(f),_!==s&&_.parentNode?.removeChild(_)}});return B.set(v,k),v}let B=new WeakMap;function Ve(t,e){const s=B.get(t);return s?(B.delete(t),s(e)):Promise.resolve()}export{Be as a,Pe as h,Ie as m,Me as s,Ve as u};
